<!DOCTYPE html>
<html>
<head>
  <title>Notificações do Browser</title>
</head>
<body>

  <h1>Clique no botão para exibir uma notificação:</h1>

  <button id="btnNotificar">Exibir Notificação</button>

  <script>
    const btnNotificar = document.getElementById('btnNotificar');

    btnNotificar.addEventListener('click', () => {
      // 1. Verificar se o browser suporta notificações
      if (!("Notification" in window)) {
        alert("Este browser não suporta notificações.");
        return;
      }

      // 2. Solicitar permissão ao usuário (se necessário)
      Notification.requestPermission().then(permission => {
        if (permission === "granted") {
          // 3. Criar e exibir a notificação
          const notification = new Notification("Olá!", {
            body: "Esta é uma notificação de exemplo!",
            icon: "https://www.rocketseat.com.br/static/images/logo.svg" // Substitua pelo seu ícone
          });

          // 4. (Opcional) Definir o que acontece quando o usuário clica na notificação
          notification.onclick = () => {
            window.focus(); // Foca na janela/aba do browser
            notification.close(); // Fecha a notificação
          };

          // 5. (Opcional) Definir o tempo para fechar a notificação automaticamente
          setTimeout(() => {
            notification.close();
          }, 5000); // Fecha após 5 segundos (5000ms)
        } else if (permission === "denied") {
          alert("Permissão para notificações negada pelo usuário.");
        } else {
          // Permissão 'default' - O usuário ainda não decidiu, pode ser útil mostrar
          // uma mensagem explicando porque você quer enviar notificações.
          console.log("Permissão para notificações ainda não concedida.");
        }
      });
    });
  </script>

</body>
</html>